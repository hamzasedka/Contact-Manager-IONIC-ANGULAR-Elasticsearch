<ng-container *ngIf="this.vm$ | async as vm">
  <dom-dialog-layout (closeClick)="this.onCloseClick()" [canClose]="!!this.dialogRef">
    <form [formGroup]="formRegister" (ngSubmit)="this.onSave(vm.product)">
      <div fxLayout="column">
        <div fxLayoutAlign="center center">
          <button mat-mini-fab color="accent" type="submit" [disabled]="!formRegister.valid">
            <mat-icon>save</mat-icon>
          </button>
        </div>
        <!-- name -->
        <mat-form-field color="accent">
          <input matInput type="text" formControlName="name" placeholder="Name" />
          <mat-error *ngIf="vm.nameError">{{ vm.nameError }}</mat-error>
        </mat-form-field>
        <!-- description -->
        <mat-form-field color="accent">
          <textarea matInput formControlName="description" placeholder="Description"></textarea>
          <mat-error *ngIf="vm.descriptionError">{{ vm.descriptionError }}</mat-error>
        </mat-form-field>
        <!-- isOption -->
        <div color="accent">
          <mat-checkbox formControlName="isOption" placeholder="Un produit option">Produit option</mat-checkbox>
          <mat-error *ngIf="vm.isOptionError">{{ vm.isOptionError }}</mat-error>
        </div>
        <!--  Price cards -->
        <div>
          <div fxLayout="row" fxLayoutAlign="end center">
            <h3>Rajouter des prix</h3>
            <button class="btn-ribbon" mat-fab aria-label="Add" (click)="this.onAddPriceCards(vm.product, $event)">
              <mat-icon>add</mat-icon>
            </button>
          </div>
          <dom-edit-price-cards formControlName="priceCards"></dom-edit-price-cards>
        </div>
      </div>
    </form>
  </dom-dialog-layout>
</ng-container>
