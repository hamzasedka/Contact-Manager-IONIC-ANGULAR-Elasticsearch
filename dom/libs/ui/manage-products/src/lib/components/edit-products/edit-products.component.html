<ng-container *ngIf="this.vm$ | async as vm">
  <dom-dialog-layout (closeClick)="this.onCloseClick()" [canClose]="!!this.dialogRef">
    <form [formGroup]="formRegister" (ngSubmit)="this.onSave()">
      <div fxLayout="column">
        <div fxLayoutAlign="center center">
          <button mat-raised-button color="accent" type="submit" [disabled]="!formRegister.valid">
            Ajouter
          </button>
        </div>
        <!-- name -->
        <mat-form-field color="accent">
          <input matInput type="text" formControlName="name" placeholder="Name" />
          <mat-error *ngIf="vm.nameError">{{ vm.nameError }}</mat-error>
        </mat-form-field>
        <!-- description -->
        <mat-form-field color="accent">
          <textarea matInput formControlName="description" placeholder="Description"></textarea>
          <mat-error *ngIf="vm.descriptionError">{{ vm.descriptionError }}</mat-error>
        </mat-form-field>
        <!-- priceExcludeTaxe -->
        <mat-form-field color="accent">
          <input matInput type="number" formControlName="priceExcludeTaxe" placeholder="Prix HT" />
          <mat-error *ngIf="vm.priceExcludeTaxeError">{{ vm.priceExcludeTaxeError }}</mat-error>
        </mat-form-field>
        <!-- priceIncludeTaxe -->
        <mat-form-field color="accent">
          <input matInput type="number" formControlName="priceIncludeTaxe" placeholder="Prix TTC" />
          <mat-error *ngIf="vm.priceIncludeTaxeError">{{ vm.priceIncludeTaxeError }}</mat-error>
        </mat-form-field>
        <!-- strikethroughPrice -->
        <mat-form-field color="accent">
          <textarea matInput formControlName="strikethroughPrice" placeholder="Ancien Prix"></textarea>
          <mat-error *ngIf="vm.strikethroughPriceError">{{ vm.strikethroughPriceError }}</mat-error>
        </mat-form-field>
        <!-- isOption -->
        <div color="accent">
          <mat-checkbox formControlName="isOption" placeholder="Un produit option">Produit option</mat-checkbox>
          <mat-error *ngIf="vm.isOptionError">{{ vm.isOptionError }}</mat-error>
        </div>
        <!-- canApplyPromotion -->
        <div color="accent">
          <mat-checkbox formControlName="canApplyPromotion" placeholder="Peux appliquer un code promotion">Permettre
            d'appliquer un code promotion</mat-checkbox>
          <mat-error *ngIf="vm.canApplyPromotionError">{{ vm.canApplyPromotionError }}</mat-error>
        </div>
      </div>
    </form>
  </dom-dialog-layout>
</ng-container>
